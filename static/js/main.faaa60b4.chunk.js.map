{"version":3,"sources":["components/ATM/ATM.module.scss","utils/ATMLogic.ts","components/ATM/ATMInfo.tsx","components/ATM/Numpad.tsx","components/ATM/ATMResult.tsx","components/ATM/SelectBanknotes.tsx","components/ATM/ATM.tsx","App.tsx","index.tsx"],"names":["module","exports","calcHowMuchWasWithdrawn","amount","amountOfBanknotes","arrOfGivenBanknotes","amountOfBanknotesEnded","Object","keys","reverse","forEach","banknote","Number","push","length","ATMLogic","moneyCouldntWithdraw","givenBanknotesToUser","getGivenBanknotesWithTheirFrequency","moneyLeft","toFixed","amountOfBanknotesInATM","givenBanknotesArr","reduce","acum","ATMInfo","atmResult","onAtmInfoClose","className","styles","atmInfoWrapper","atmInfoInnerWrapper","map","i","btnAtmInfoClose","onClick","Numpad","handleInputFromNumpad","numpad","e","target","children","innerText","numpadItem","ATMResult","amountOfMoneyLeft","SelectBanknotes","handleAmountOfBanknotesChange","onChange","value","ATM","useRef","useState","setAtmResult","atmInfoVisible","setAtmInfoVisible","setAmountOfMoneyLeft","amountOfEnteredMoney","setAmountOfEnteredMoney","errorInInput","setErrorInInput","handleSubmit","flag","includes","match","split","validateInputValue","current","el","inputWrapper","event","currentTarget","replace","inputError","input","placeholder","inputLabel","prev","slice","btnShowAtmInfo","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.faaa60b4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"numpad\":\"ATM_numpad__3jS-z\",\"numpadItem\":\"ATM_numpadItem__BtmDR\",\"inputWrapper\":\"ATM_inputWrapper__1n1cC\",\"input\":\"ATM_input__2pKyJ\",\"atmInfoWrapper\":\"ATM_atmInfoWrapper__1n8_9\",\"atmInfoInnerWrapper\":\"ATM_atmInfoInnerWrapper__MWasY\",\"btnShowAtmInfo\":\"ATM_btnShowAtmInfo__2J_6J\",\"btnAtmInfoClose\":\"ATM_btnAtmInfoClose__3uCIa\",\"inputError\":\"ATM_inputError__3o7ac\",\"inputLabel\":\"ATM_inputLabel__makm9\"};","import { IBanknotes } from '../types/ATMTypes';\r\n\r\nconst calcHowMuchWasWithdrawn = (amount: number, amountOfBanknotes: IBanknotes, arrOfGivenBanknotes: string[]): any => {\r\n    if (amount < 50) return { arrOfGivenBanknotes, amount };\r\n\r\n    let amountOfBanknotesEnded = 0; //this varriable shows, how many of banknotes has quantity zero\r\n    Object.keys(amountOfBanknotes)\r\n        .reverse()\r\n        .forEach((banknote: string) => {\r\n            if (amountOfBanknotes[banknote] <= 0) {\r\n                amountOfBanknotesEnded++;\r\n                return;\r\n            }\r\n            if (amount >= Number(banknote)) {\r\n                amountOfBanknotes[banknote] = amountOfBanknotes[banknote] - 1;\r\n                amount -= Number(banknote);\r\n                arrOfGivenBanknotes.push(banknote);\r\n            }\r\n        });\r\n\r\n    if (amountOfBanknotesEnded >= Object.keys(amountOfBanknotes).length) return { arrOfGivenBanknotes, amount };\r\n    if (amount > 0) ({ arrOfGivenBanknotes, amount } = calcHowMuchWasWithdrawn(amount, amountOfBanknotes, arrOfGivenBanknotes));\r\n\r\n    return { arrOfGivenBanknotes, amount };\r\n};\r\n\r\nexport const ATMLogic = (amount: number, amountOfBanknotes: IBanknotes) => {\r\n    let givenBanknotesToUser: string[] = [];\r\n    const { arrOfGivenBanknotes, amount: moneyCouldntWithdraw } = calcHowMuchWasWithdrawn(amount, amountOfBanknotes, []);\r\n    givenBanknotesToUser = arrOfGivenBanknotes;\r\n\r\n    return {\r\n        givenBanknotesToUser: getGivenBanknotesWithTheirFrequency(givenBanknotesToUser),\r\n        moneyLeft: moneyCouldntWithdraw.toFixed(2),\r\n        amountOfBanknotesInATM: amountOfBanknotes,\r\n    };\r\n};\r\n\r\nconst getGivenBanknotesWithTheirFrequency = (givenBanknotesArr: string[]) => {\r\n    return givenBanknotesArr.reduce((acum: any, banknote) => {\r\n        if (banknote in acum) acum[banknote] += 1;\r\n        else acum[banknote] = 1;\r\n        return acum;\r\n    }, {});\r\n};\r\n","import React from 'react';\r\nimport { IBanknotes } from '../../types/ATMTypes';\r\nimport styles from './ATM.module.scss';\r\n\r\ninterface IATMInfo {\r\n    atmResult: IBanknotes;\r\n    onAtmInfoClose: () => void;\r\n}\r\n\r\nconst ATMInfo = ({ atmResult, onAtmInfoClose }: IATMInfo) => {\r\n    return (\r\n        <div className={styles.atmInfoWrapper}>\r\n            <div className={styles.atmInfoInnerWrapper}>\r\n                Left in ATM:\r\n                {Object.keys(atmResult).map((banknote, i) => {\r\n                    return (\r\n                        <p key={i}>\r\n                            banknote: <b>{banknote}</b>, amount: <b>{atmResult[banknote]}</b>\r\n                        </p>\r\n                    );\r\n                })}\r\n                <button className={styles.btnAtmInfoClose} onClick={onAtmInfoClose}>\r\n                    X\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ATMInfo;\r\n","import React from 'react';\r\nimport styles from './ATM.module.scss';\r\n\r\ninterface INumpad {\r\n    handleInputFromNumpad: (value: string) => void;\r\n}\r\n\r\nconst Numpad = ({ handleInputFromNumpad }: INumpad) => {\r\n    const handleNumpadClick = (e: React.MouseEvent<HTMLDivElement>) => {\r\n        const target = e.target as HTMLElement;\r\n        if (target.children.length) return; // if pressed numpad but not numpadItem then skip\r\n        handleInputFromNumpad(target.innerText);\r\n    };\r\n\r\n    return (\r\n        <div className={styles.numpad} onClick={handleNumpadClick}>\r\n            <div className={styles.numpadItem}>7</div>\r\n            <div className={styles.numpadItem}>8</div>\r\n            <div className={styles.numpadItem}>9</div>\r\n            <div className={styles.numpadItem}>4</div>\r\n            <div className={styles.numpadItem}>5</div>\r\n            <div className={styles.numpadItem}>6</div>\r\n            <div className={styles.numpadItem}>1</div>\r\n            <div className={styles.numpadItem}>2</div>\r\n            <div className={styles.numpadItem}>3</div>\r\n            <div className={styles.numpadItem}>0</div>\r\n            <div className={styles.numpadItem}>.</div>\r\n            <div className={styles.numpadItem}>{'Clear'}</div>\r\n            <div className={styles.numpadItem}>{'Withdraw'}</div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Numpad;\r\n","import React from 'react';\r\nimport { IBanknotes } from '../../types/ATMTypes';\r\n\r\ninterface IATMResult {\r\n    atmResult: IBanknotes;\r\n    amountOfMoneyLeft: number;\r\n}\r\n\r\nconst ATMResult = ({ atmResult, amountOfMoneyLeft }: IATMResult) => {\r\n    return (\r\n        <div>\r\n            <div>\r\n                Withdrawn:\r\n                {Object.keys(atmResult).map((banknote, i) => {\r\n                    return (\r\n                        <p key={i}>\r\n                            banknote: {banknote}, amount: {atmResult[banknote]}\r\n                        </p>\r\n                    );\r\n                })}\r\n                <p>{+amountOfMoneyLeft ? 'Couldn\"t withdraw: ' + amountOfMoneyLeft : null}</p>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ATMResult;\r\n","import React from 'react';\r\n\r\ninterface ISelectBanknotes {\r\n    handleAmountOfBanknotesChange: (e: React.ChangeEvent<HTMLSelectElement>) => void;\r\n}\r\n\r\nconst SelectBanknotes = ({ handleAmountOfBanknotesChange }: ISelectBanknotes) => {\r\n    return (\r\n        <>\r\n            <p>Select Amount Of Banknotes in ATM</p>\r\n            <select onChange={handleAmountOfBanknotesChange}>\r\n                <option value=\"5000=100; 2000=400; 1000=1000; 500=3000; 200=5000; 100=8000; 50=10000\">\r\n                    5000=100; 2000=400; 1000=1000; 500=3000; 200=5000; 100=8000; 50=10000\r\n                </option>\r\n                <option value=\"5000=476; 2000=345; 1000=6741; 500=4362; 200=234; 100=1643; 50=3450\">\r\n                    5000=476; 2000=345; 1000=6741; 500=4362; 200=234; 100=1643; 50=3450\r\n                </option>\r\n                <option value=\"5000=234; 2000=678; 1000=845; 500=2451; 200=9654; 100=2345; 50=234\">\r\n                    5000=234; 2000=678; 1000=845; 500=2451; 200=9654; 100=2345; 50=234\r\n                </option>\r\n                <option value=\"5000=546; 2000=562; 1000=2543; 500=4365; 200=2154; 100=124; 50=342\">\r\n                    5000=546; 2000=562; 1000=2543; 500=4365; 200=2154; 100=124; 50=342\r\n                </option>\r\n                <option value=\"5000=2732; 2000=347; 1000=479; 500=7556; 200=3296; 100=1257; 50=3854\">\r\n                    5000=2732; 2000=347; 1000=479; 500=7556; 200=3296; 100=1257; 50=3854\r\n                </option>\r\n                <option value=\"5000=73; 2000=147; 1000=279; 500=356; 200=696; 100=857; 50=854\">\r\n                    5000=73; 2000=147; 1000=279; 500=356; 200=696; 100=857; 50=854\r\n                </option>\r\n            </select>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default SelectBanknotes;\r\n","import React, { useRef, useState } from 'react';\r\nimport { ATMLogic } from '../../utils/ATMLogic';\r\nimport ATMInfo from './ATMInfo';\r\nimport Numpad from './Numpad';\r\nimport styles from './ATM.module.scss';\r\nimport ATMResult from './ATMResult';\r\nimport { IBanknotes } from '../../types/ATMTypes';\r\nimport SelectBanknotes from './SelectBanknotes';\r\n\r\nconst ATM = () => {\r\n    const amountOfBanknotes = useRef({\r\n        '5000': 100,\r\n        '2000': 400,\r\n        '1000': 1000,\r\n        '500': 300,\r\n        '200': 5000,\r\n        '100': 8000,\r\n        '50': 10000,\r\n    });\r\n\r\n    const [atmResult, setAtmResult] = useState<IBanknotes>();\r\n    const [atmInfoVisible, setAtmInfoVisible] = useState(false);\r\n    const [amountOfMoneyLeft, setAmountOfMoneyLeft] = useState(0);\r\n    const [amountOfEnteredMoney, setAmountOfEnteredMoney] = useState('');\r\n    const [errorInInput, setErrorInInput] = useState(false);\r\n\r\n    const handleAmountOfBanknotesChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\r\n        amountOfBanknotes.current = e.target.value\r\n            .split('; ')\r\n            .map((el) => el.split('='))\r\n            .reduce((acum: any, el) => {\r\n                acum[el[0]] = el[1];\r\n                return acum;\r\n            }, {});\r\n    };\r\n\r\n    const handleEnteredAmountOfMoney = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        let value = event.currentTarget.value;\r\n        value = value.replace(/[^0-9.]/g, (match) => '');\r\n        setAmountOfEnteredMoney(value);\r\n    };\r\n\r\n    const handleInputFromNumpad = (value: string) => {\r\n        if (value === 'Withdraw') {\r\n            handleSubmit();\r\n            return;\r\n        }\r\n        if (value === 'Clear') setAmountOfEnteredMoney((prev) => prev.slice(0, -1));\r\n        else setAmountOfEnteredMoney((prev) => prev + value);\r\n    };\r\n\r\n    const validateInputValue = (value: string) => {\r\n        let flag = true;\r\n        if (amountOfEnteredMoney === '') flag = false;\r\n        else if (value[0] === '0' || value[0] === '.') flag = false;\r\n        else if (value.includes('.') && (value.match(/\\./g)!.length > 1 || value.split('.')[1].length > 2)) flag = false;\r\n\r\n        return flag;\r\n    };\r\n\r\n    const handleSubmit = () => {\r\n        if (!validateInputValue(amountOfEnteredMoney)) {\r\n            setErrorInInput(true);\r\n            return;\r\n        }\r\n        setErrorInInput(false);\r\n        const { givenBanknotesToUser, moneyLeft } = ATMLogic(Number(amountOfEnteredMoney), amountOfBanknotes.current);\r\n        setAtmResult(givenBanknotesToUser);\r\n        setAmountOfMoneyLeft(moneyLeft);\r\n    };\r\n\r\n    const handleAtmInfoClose = () => {\r\n        setAtmInfoVisible(false);\r\n    };\r\n\r\n    const handleAtmInfoOpen = () => {\r\n        setAtmInfoVisible(true);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <SelectBanknotes handleAmountOfBanknotesChange={handleAmountOfBanknotesChange} />\r\n            <div className={styles.inputWrapper}>\r\n                <input\r\n                    value={amountOfEnteredMoney}\r\n                    onChange={handleEnteredAmountOfMoney}\r\n                    className={errorInInput ? `${styles.inputError} ${styles.input}` : styles.input}\r\n                    placeholder=\"Enter the amount of money to withdraw\"\r\n                />\r\n                <label className={styles.inputLabel}>{errorInInput ? 'Enter valid data' : ''}</label>\r\n            </div>\r\n            <Numpad handleInputFromNumpad={handleInputFromNumpad} />\r\n            <div className={styles.btnShowAtmInfo} onClick={handleAtmInfoOpen}>\r\n                i\r\n            </div>\r\n            {atmResult && <ATMResult atmResult={atmResult} amountOfMoneyLeft={amountOfMoneyLeft} />}\r\n            {atmInfoVisible && <ATMInfo atmResult={amountOfBanknotes.current} onAtmInfoClose={handleAtmInfoClose} />}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ATM;\r\n","import React from 'react';\nimport ATM from './components/ATM/ATM';\n\nfunction App() {\n    return (\n        <div className=\"App\">\n            <ATM />\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}